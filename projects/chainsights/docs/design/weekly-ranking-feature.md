# Weekly DAO Ranking Feature

**Created:** 2024-12-19 02:00 CET
**Status:** Ideation / Party Mode Output
**Participants:** Mario, Maya (Marketing), Mary (Analyst), Sally (UX), Winston (Architect), Amelia (Dev)

---

## Feature Concept

A public ranking page showing top DAOs sorted by ChainSights decentralization score, with paid report links for full analysis.

### Original Idea (Mario)

- Top 20 DAOs ranked by follower size
- Sorted by decentralization score
- Each DAO links to paid report
- Regenerate daily

### Refined Proposal (Party Mode Discussion)

**Key Insight:** Test demand before building infrastructure.

---

## Phased Approach

| Phase | Description | Effort | Status |
|-------|-------------|--------|--------|
| **v0** | Manual tweets with scores from existing reports | 0 dev effort | Ready when reports exist |
| **v1** | Script generates top 10 scores weekly ‚Üí JSON file ‚Üí Manual tweet | ~1 day dev | Spec pending |
| **v2** | Public ranking page with "Get Report" CTAs | ~1 week dev | Future |

---

## v1 Technical Spec (Winston)

**Finalized:** 2024-12-19

### Scope

- **Input:** List of DAO space IDs (10 DAOs) from `config/ranking-daos.json`
- **Process:** Fetch ‚Üí Analyze ‚Üí Extract score + teaser
- **Output:** `data/rankings.json` + append to `data/rankings-history.json`
- **Trigger:** Manual CLI script, cron-ready

### Architecture Decision: On-Demand Reports

Full PDF reports are **NOT** generated by this script. Rationale:
- Ranking script outputs scores + teasers only
- Full reports generated when user pays (existing pipeline)
- Saves compute, avoids 10 unused PDFs weekly

### Output Schema

**`data/rankings.json`** (current week):
```json
{
  "generatedAt": "2024-12-19T08:00:00Z",
  "week": "2024-W51",
  "rankings": [
    {
      "rank": 1,
      "spaceId": "ens.eth",
      "daoName": "ENS",
      "score": 7,
      "teaser": "Top 5 wallets control 34% of voting power",
      "reportAvailable": true
    }
  ],
  "skipped": [],
  "errors": []
}
```

**`data/rankings-history.json`** (append-only):
```json
[
  { "week": "2024-W51", "rankings": [...] },
  { "week": "2024-W52", "rankings": [...] }
]
```

### Input Config

**`config/ranking-daos.json`**:
```json
{
  "daos": [
    { "spaceId": "arbitrumfoundation.eth", "name": "Arbitrum" },
    { "spaceId": "lido-snapshot.eth", "name": "Lido" },
    { "spaceId": "ens.eth", "name": "ENS" },
    { "spaceId": "opcollective.eth", "name": "Optimism" },
    { "spaceId": "uniswap", "name": "Uniswap" },
    { "spaceId": "safe.eth", "name": "Safe" },
    { "spaceId": "aave.eth", "name": "Aave" },
    { "spaceId": "makerdao.eth", "name": "MakerDAO" },
    { "spaceId": "gitcoindao.eth", "name": "Gitcoin" },
    { "spaceId": "compound-governance.eth", "name": "Compound" }
  ]
}
```

### Error Handling

| Scenario | Action |
|----------|--------|
| DAO fetch fails | Skip, add to `skipped[]`, log error |
| Analysis fails | Skip, add to `errors[]`, continue |
| All DAOs fail | Exit with error code, no JSON written |
| Partial success | Write JSON with available DAOs, log skipped |

**Principle:** Partial data > no data. Don't block 9 DAOs because 1 failed.

### Historical Data

- Append each week's scores to `rankings-history.json`
- ~2KB growth per week
- Future use: Trend analysis, "score improved" badges

### CLI Interface

```bash
# Generate this week's rankings
npm run rankings:generate

# Or with specific config
npx ts-node scripts/generate-rankings.ts --config=config/ranking-daos.json
```

### Files to Create

| File | Purpose |
|------|---------|
| `scripts/generate-rankings.ts` | Main script |
| `config/ranking-daos.json` | DAO list config |
| `data/rankings.json` | Current week output |
| `data/rankings-history.json` | Historical append |

### Dependencies

- Reuses existing: `src/lib/snapshot/` (fetch)
- Reuses existing: `src/lib/ai/analysis.ts` (analyze)
- New: Extract `decentralizationScore` + build teaser string

### Estimate

**~4-6 hours** for Amelia:
- 2h: Script scaffolding + config loading
- 2h: Integration with existing fetch/analyze
- 1h: Error handling + history append
- 1h: Testing with 2-3 DAOs

---

## DAO Shortlist (Mary's Analysis)

**Finalized:** 2024-12-19

### Selection Criteria (weighted)

| Criterion | Weight | Why |
|-----------|--------|-----|
| Twitter engagement potential | 35% | Drives v0 viral loop |
| Governance activity | 25% | Fresh data = relevant scores |
| Seed campaign synergy | 20% | Contacts already warm |
| Controversy potential | 20% | Debate = engagement |

### Final Top 10 (Prioritized)

| Rank | DAO | Space ID | Engagement Score | Rationale |
|------|-----|----------|------------------|-----------|
| 1 | **Arbitrum** | `arbitrumfoundation.eth` | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Largest L2, very active governance, Sinkas connection. High controversy potential (DAO vs Foundation tension). |
| 2 | **Lido** | `lido-snapshot.eth` | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Staking giant, known power concentration concerns. Hasu/Cobie connections. Score likely low = debate fuel. |
| 3 | **ENS** | `ens.eth` | ‚≠ê‚≠ê‚≠ê‚≠ê | Nick Johnson contact. Well-known, active community. Report already exists! |
| 4 | **Optimism** | `opcollective.eth` | ‚≠ê‚≠ê‚≠ê‚≠ê | Major L2, Lefteris connection. Unique bicameral structure = interesting analysis. |
| 5 | **Uniswap** | `uniswap` | ‚≠ê‚≠ê‚≠ê‚≠ê | DeFi king. Massive Twitter presence. Known for whale dominance = controversy. |
| 6 | **Safe** | `safe.eth` | ‚≠ê‚≠ê‚≠ê | StableLab/kpk connections. Newer DAO = interesting baseline. |
| 7 | **Aave** | `aave.eth` | ‚≠ê‚≠ê‚≠ê | DeFi blue chip. Active governance. Professional delegate ecosystem. |
| 8 | **MakerDAO** | `makerdao.eth` | ‚≠ê‚≠ê‚≠ê | OG DAO, recent drama (Rune vs community). High name recognition. |
| 9 | **Gitcoin** | `gitcoindao.eth` | ‚≠ê‚≠ê | Public goods crowd = engaged but smaller. Good for credibility. |
| 10 | **Compound** | `compound-governance.eth` | ‚≠ê‚≠ê | OG DeFi, lower activity. Include for completeness. |

### Key Insights

1. **Lead with controversy:** Lido and Uniswap likely have concentrated power ‚Äî low scores spark debate.
2. **Leverage warm contacts:** 5 of top 6 have seed campaign connections (Sinkas, Lefteris, Nick, Hasu, StableLab).
3. **Mix L2s and DeFi:** Appeals to different Twitter audiences.
4. **ENS first for v0:** Report already exists, Nick connection warm.

### Recommended v0 Order

For the first manual tweet, use DAOs where reports already exist:
1. ENS (report exists)
2. Then generate: Arbitrum, Lido, Optimism, Uniswap

### DAOs to Skip (for now)

| DAO | Why Skip |
|-----|----------|
| Compound | Lower engagement, less active |
| dYdX | Moved to Cosmos, Snapshot data stale |
| Balancer | Smaller audience |
| 1inch | Lower governance activity |

---

## Visual Concepts (Sally to sketch)

Ideas discussed:
- Clean leaderboard, expandable rows
- Score visualization (1-10 scale)
- "Teaser insight" preview without giving away full report
- Handling low scores gracefully (opportunity framing vs shame)

---

## Marketing Strategy (Maya)

### v0 Tweet Format (draft)

```
This week's DAO Governance Health Check:

ü•á ENS ‚Äî 7/10
ü•à Arbitrum ‚Äî 6/10
ü•â Optimism ‚Äî 5/10
...
üìâ Lido ‚Äî 4/10

Top 5 wallets control [X]% of Lido votes. Concerning?

Full reports: [link]

What DAOs should we analyze next?
```

### Viral Mechanics

- DAOs share good scores (pride)
- Bad scores spark debate (controversy)
- "What DAO next?" drives engagement
- Weekly cadence builds habit

### Target Audiences

1. **Governance delegates** ‚Äî Want to see their DAO's health
2. **Researchers** ‚Äî Cite methodology, reference data
3. **Crypto Twitter** ‚Äî Screenshot controversial rankings

---

## Commitments / Next Steps

| Who | Commitment | Due |
|-----|------------|-----|
| **Winston** | Draft v1 technical spec | Morning (Mario's timezone) |
| **Mary** | Finalize DAO shortlist with rationale | Morning |
| **Sally** | Rough visual concepts for ranking display | Morning |
| **Amelia** | Review spec, estimate implementation | After Winston's spec |
| **Maya** | Draft first tweet when scores available | After reports generated |
| **Mario** | Generate test reports for seed DAOs | Morning |

---

## Dependencies

- Reports must exist before v0 tweet
- Seed campaign DAOs (Arbitrum, Optimism, ENS, Lido, Safe) are priority for report generation
- `src/app/api/jobs/` pipeline already supports fetch‚Üíanalyze‚Üígenerate

---

## Decision Log

| Decision | Rationale | Date |
|----------|-----------|------|
| Weekly not daily refresh | Governance doesn't change fast; saves API/AI costs | 2024-12-19 |
| Start with 10 not 20 DAOs | Less compute, "Top 10" sounds more exclusive | 2024-12-19 |
| v0 manual tweets first | Test demand before building infrastructure | 2024-12-19 |
| Show score + teaser, not just score | Give reason to click for full report | 2024-12-19 |

---

## Related Files

- Seed campaign targets: `docs/marketing/seed-campaign-targets.md`
- Viral loop strategy: `docs/marketing/viral-loop-strategy.md`
- Analysis pipeline: `src/app/api/jobs/analyze/route.ts`
- AI analysis: `src/lib/ai/analysis.ts`

---

*Document generated from Party Mode session ‚Äî 2024-12-19 02:00 CET*
