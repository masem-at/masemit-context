# Story 3.5: Founding Member Pricing & CTA Section

## Status
Approved

## Story
**As a** visitor,
**I want** to see founding member pricing tiers and benefits,
**so that** I can choose the right tier and become a paying customer.

## Acceptance Criteria

1. Pricing section added to landing page (below problem/solution section or at bottom):
   - Section heading: "Become a Founding Member"
   - Subheading explaining lifetime access and grandfathered pricing
2. Five pricing tier cards displayed with responsive grid (stack on mobile, 2-3 columns on tablet, 3-5 columns on desktop):
   - Each card shows: tier name, price (€29, €99, €299, €599, €999), seat count, key features
   - Primary CTA button on each card: "Get [Tier Name]" triggers Stripe checkout from Story 3.4
3. Founding member benefits listed: Unlimited generations, priority support, early access to new features, lifetime grandfathered pricing
4. Visual hierarchy: cards use #2563EB for headers, #10B981 for CTA buttons
5. Mobile responsive: cards stack vertically on narrow screens with touch-friendly button sizing

## Tasks / Subtasks

- [x] Add Pricing Section to Landing Page (AC: 1)
  - [x] Update `app/page.tsx`
  - [x] Add section after problem/solution (Story 3.3)
  - [x] Section heading: "Become a Founding Member" (`text-3xl font-bold`)
  - [x] Subheading: "Get lifetime access with grandfathered pricing. Join now and never pay again."

- [x] Create Pricing Tier Cards (AC: 2, 4)
  - [x] Implement responsive grid:
    - Mobile: `grid-cols-1 gap-6`
    - Tablet: `md:grid-cols-2 lg:grid-cols-3`
    - Desktop: `xl:grid-cols-5`
  - [x] Card structure for each tier:
    ```tsx
    <div className="bg-white border-2 border-gray-200 rounded-lg p-6 hover:border-blue-600 transition-colors">
      <h3 className="text-xl font-bold text-blue-600 mb-2">{tierName}</h3>
      <p className="text-3xl font-bold mb-4">€{price}</p>
      <ul className="text-sm text-gray-600 mb-6 space-y-2">
        <li>• {feature1}</li>
        <li>• {feature2}</li>
      </ul>
      <button className="w-full bg-green-500 hover:bg-green-600 text-white py-3 rounded-lg">
        Get {tierName}
      </button>
    </div>
    ```

- [x] Define Tier Details (AC: 2)
  - [x] Supporter S (€29): Individual, 1 seat, unlimited generations
  - [x] Supporter M (€99): Individual, 1 seat, unlimited + priority support
  - [x] Supporter L (€299): Professional, 1 seat, unlimited + early access
  - [x] Team Plus (€599): Team, 5 seats, unlimited + team features
  - [x] Department Partner (€999): Department, 20 seats, unlimited + dedicated support

- [x] Implement Stripe Checkout Integration (AC: 2)
  - [x] Add handlePurchase function:
    ```typescript
    const handlePurchase = async (tier: string) => {
      const response = await fetch('/api/stripe/create-checkout', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ tier })
      })
      const { url } = await response.json()
      window.location.href = url
    }
    ```
  - [x] Wire up buttons to handlePurchase
  - [x] Add loading states during redirect

- [x] Add Benefits List (AC: 3)
  - [x] List key benefits above pricing cards:
    - ✅ Unlimited scenario generations
    - ✅ Lifetime access (pay once, use forever)
    - ✅ Grandfathered pricing (no price increases)
    - ✅ Priority support
    - ✅ Early access to new features

- [x] Responsive Design & Testing (AC: 5)
  - [x] Test mobile (375px): Cards stack vertically
  - [x] Test tablet (768px): 2-column grid
  - [x] Test desktop (1024px+): 3-5 column grid
  - [x] Verify buttons are touch-friendly (min 44px height)
  - [x] Run `pnpm lint` and `pnpm build`

## Dev Notes

### Pricing Tier Details
[Source: PRD - FR9]
- Supporter S: €29, Individual (1 seat)
- Supporter M: €99, Individual (1 seat)
- Supporter L: €299, Professional (1 seat)
- Team Plus: €599, Small Team (5 seats)
- Department Partner: €999, Department (20 seats)

All include: Unlimited generations, lifetime access, grandfathered pricing

### Integration with Story 3.4
- Story 3.4 created `/api/stripe/create-checkout` endpoint
- This story calls that endpoint when user clicks "Get [Tier]"
- Tier mapping: supporterS, supporterM, supporterL, teamPlus, departmentPartner

### Brand Colors
[Source: AC 4]
- Card headers: #2563EB (blue-600)
- CTA buttons: #10B981 (green-500)
- Hover states: blue-700, green-600

## Dev Agent Record

### Agent Model Used
- claude-sonnet-4-5-20250929

### Completion Notes
- Updated existing `PricingSection` component with correct tier details matching Story 3.5 requirements
- Fixed seat counts: Supporter S/M/L all 1 seat, Team Plus 5 seats, Department Partner 20 seats
- Updated features to match AC3 requirements (unlimited generations, lifetime access, grandfathered pricing, priority support, early access)
- Implemented full Stripe checkout integration:
  - `handlePurchase` function calls `/api/stripe/create-checkout` from Story 3.4
  - Loading states with button disable during redirect
  - Error handling with user-friendly alert (basic, Story 3.9 will add proper error UI)
- Added benefits list section above pricing cards with checkmarks
- Updated brand colors: #2563EB (blue-600) for card headers, #10B981 (green-500) for CTA buttons
- Responsive grid implemented: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5`
- Touch-friendly button sizing (py-3 = 48px+ height including padding)
- Build and lint passed successfully ✅

### File List
- `components/landing/PricingSection.tsx` (modified) - Full pricing section with Stripe integration

## QA Results

### Review Summary
**Reviewed by:** Quinn (QA)
**Review Date:** 2025-11-19
**Gate Decision:** ✅ **PASS**

**Overall Assessment:** Story 3.5 successfully implements the founding member pricing section with all 5 pricing tiers, Stripe checkout integration, benefits list, responsive design, and brand colors. All acceptance criteria met with high code quality.

### Acceptance Criteria Validation

**AC1: Pricing Section Added** ✅ PASS
- Section heading "Become a Founding Member" displayed (PricingSection.tsx:123)
- Subheading explains lifetime access and grandfathered pricing (line 125-126)
- Correctly positioned in app/page.tsx after ProblemSolution component

**AC2: Five Pricing Tier Cards** ✅ PASS
- All 5 tiers displayed with correct prices (€29, €99, €299, €599, €999)
- Correct seat counts: Supporter S/M/L (1 seat), Team Plus (5 seats), Department Partner (20 seats)
- All tier details match PRD FR9 specifications exactly
- CTA buttons trigger Stripe checkout via handlePurchase function (line 91-115)
- Responsive grid: `grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-5` (line 143)

**AC3: Benefits List** ✅ PASS
- All 5 required benefits displayed with checkmark icons
- Benefits positioned above pricing cards as specified
- Clear, user-friendly messaging

**AC4: Visual Hierarchy** ✅ PASS
- Card headers use #2563EB (blue-600) - line 150
- CTA buttons use #10B981 (green-500) - line 175
- Hover states implemented correctly (line 176-183)

**AC5: Mobile Responsive** ✅ PASS
- Cards stack vertically on mobile (grid-cols-1)
- Touch-friendly button sizing (py-3 = 48px+ height)
- Responsive breakpoints work correctly across all screen sizes
- Manual testing on dev server confirmed (http://localhost:3001)

### Code Quality Assessment

**Standards Compliance:** EXCELLENT
- TypeScript strict mode compliance - all types properly defined
- Follows coding standards from docs/architecture/coding-standards.md
- Component naming, import order, and structure all correct
- React hooks usage proper (useState for loading state)
- Error handling with try-catch implemented

**Maintainability:** EXCELLENT
- Well-structured tier data (lines 8-78)
- Clear separation of concerns (data vs. presentation)
- Reusable shadcn/ui Card components
- Clear function naming (handlePurchase)
- Inline comments for deferred work (line 112: TODO Story 3.9)

**Security:** PASS WITH CONCERNS
- ✅ No sensitive data in client-side code
- ✅ Stripe integration uses server-side API endpoint
- ✅ Error messages don't expose internals
- ⚠️ SEC-001: No rate limiting on /api/stripe/create-checkout (inherited from Story 3.4, deferred to Story 3.9 per architectural decision)

### NFR Assessment

**Performance:** PASS
- Efficient rendering with proper React keys
- No unnecessary re-renders
- Async operations handled correctly

**Reliability:** PASS
- Proper error handling with user feedback
- Loading states prevent double-clicks
- Graceful degradation

**Usability:** EXCELLENT
- Clear visual hierarchy with checkmarks and pricing
- Descriptive button text and loading feedback
- Responsive design ensures usability on all devices

### Build Validation

- ✅ `pnpm lint` - PASS (no new errors)
- ✅ `pnpm build` - PASS (successful build)
- ✅ Dev server running - PASS (http://localhost:3001)

### Issues Found
None - No blocking or critical issues identified.

### Security Considerations
- Rate limiting (SEC-001) appropriately deferred to Story 3.9 per docs/architecture/security-architecture.md
- Architectural Decision Record documents this deferral with clear rationale
- Quality gate: No production deployment until Story 3.9 implements rate limiting

### Recommendations
1. **Story 3.9**: Implement toast notifications instead of alerts for better UX (LOW priority)
2. **Future Enhancement**: Consider highlighting popular tier or adding comparison features (LOW priority)

### Gate Decision: ✅ PASS

**Rationale:** All 5 acceptance criteria met with excellent code quality and proper integration with Story 3.4's Stripe checkout. Implementation follows coding standards, includes proper error handling, and provides responsive, user-friendly pricing section. Rate limiting concern documented and appropriately deferred.

**Quality Gate File:** `docs/qa/gates/3.5-founding-member-pricing-cta-section.yml`

**Next Steps:**
- ✅ Story 3.5 approved - ready for integration
- ➡️ Ready to proceed to Story 3.6 (Confirmation Page)
- ⏭️ Story 3.9 must address SEC-001 before production deployment

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-19 | 1.0 | Initial story draft for Epic 3 | Bob (Scrum Master) |
| 2025-11-19 | 1.1 | Story completed - Pricing section with Stripe checkout integration implemented | James (Dev) |
| 2025-11-19 | 1.2 | QA review completed - PASS gate with all AC validated | Quinn (QA) |
