# Story 1.1: Project Foundation & Deployment Pipeline

## Status
Approved

## Story
**As a** developer,
**I want** a fully configured Next.js 14 project with TypeScript, TailwindCSS, and automated Vercel deployment,
**so that** I have a solid foundation to build features and can deploy changes continuously.

## Acceptance Criteria
1. Next.js 14 project initialized with App Router, TypeScript, and TailwindCSS configured with brand colors (#2563EB, #E5EAF5, #10B981)
2. Git repository created with `.gitignore` excluding `.env.local`, `node_modules`, and `.next`
3. GitHub repository connected to Vercel with automatic deployments on push to `main` branch
4. Landing page route (`/`) displays "tellingCube.com" text placeholder and renders successfully at deployed Vercel URL
5. `.env.local.example` file created documenting required environment variables (DATABASE_URL, CLAUDE_API_KEY, etc.)

## Tasks / Subtasks
- [ ] Initialize Next.js 14 project with TypeScript and TailwindCSS (AC: 1)
  - [ ] Run `npx create-next-app@latest telling-cube --typescript --tailwind --app --src-dir=false`
  - [ ] Verify Next.js 14.0+, TypeScript 5.3+, TailwindCSS 3.4+ installed
  - [ ] Configure `tailwind.config.ts` with brand colors (primary: #2563EB, secondary: #E5EAF5, accent: #10B981)
  - [ ] Test dev server runs: `pnpm dev`

- [ ] Configure Git repository with proper .gitignore (AC: 2)
  - [ ] Initialize git: `git init`
  - [ ] Create `.gitignore` excluding `.env.local`, `node_modules`, `.next`, `.vercel`
  - [ ] Initial commit: `git add . && git commit -m "feat: Initialize Next.js 14 project with TypeScript and Tailwind"`

- [ ] Set up GitHub repository (AC: 2, 3)
  - [ ] Create GitHub repository: `telling-cube`
  - [ ] Add remote: `git remote add origin <repo-url>`
  - [ ] Push to GitHub: `git push -u origin main`

- [ ] Deploy to Vercel with auto-deployments (AC: 3, 4)
  - [ ] Connect GitHub repository to Vercel (via Vercel dashboard or CLI)
  - [ ] Configure project settings: Framework Preset = Next.js, Build Command = `pnpm build`
  - [ ] Verify automatic deployment triggers on push to `main`
  - [ ] Access deployed URL and confirm landing page renders

- [ ] Create landing page placeholder (AC: 4)
  - [ ] Edit `app/page.tsx` to display "tellingCube.com" text
  - [ ] Use Inter font (Next.js font optimization)
  - [ ] Apply brand color (#2563EB) to text
  - [ ] Center text on white background
  - [ ] Verify responsive on mobile/desktop

- [ ] Create .env.local.example file (AC: 5)
  - [ ] Document all required environment variables:
    - `DATABASE_URL` (NeonDB connection string)
    - `ANTHROPIC_API_KEY` (Claude API key)
    - `CRON_SECRET` (for cleanup job - Post-PoC)
  - [ ] Add comments explaining each variable
  - [ ] Commit to Git (example file is safe to commit)

## Dev Notes

### Tech Stack Configuration
**Source:** Architecture Section 3 (Tech Stack Table)

- **Next.js:** Version 14.0+ with App Router (not Pages Router)
- **TypeScript:** Version 5.3+ with strict mode enabled
- **TailwindCSS:** Version 3.4+ with JIT compiler
- **Package Manager:** pnpm 8.0+ (faster than npm, monorepo-friendly)
- **Deployment:** Vercel Pro ($20/mo, Frankfurt region `fra1`)

### Brand Colors (Tailwind Config)
**Source:** Architecture Section 3, Frontend Spec "Color Palette"

```typescript
// tailwind.config.ts
export default {
  theme: {
    extend: {
      colors: {
        primary: '#2563EB',    // Blue - CTA buttons, links
        secondary: '#E5EAF5',  // Light blue-gray - backgrounds
        accent: '#10B981',     // Turquoise green - success states
      }
    }
  }
}
```

### Project Structure
**Source:** Architecture Section 9 (Unified Project Structure)

```
/telling-cube
├── .env.local.example    # Environment variables template
├── .gitignore
├── package.json
├── pnpm-lock.yaml
├── tsconfig.json
├── next.config.js
├── tailwind.config.ts
├── /app                  # Next.js App Router
│   ├── layout.tsx        # Root layout
│   ├── page.tsx          # Landing page (/)
│   └── globals.css       # Tailwind imports
├── /public               # Static assets
└── /docs                 # Documentation
```

### Environment Variables
**Source:** Architecture Section 7 (Database Schema), Section 11 (Deployment)

**Required for PoC:**
- `DATABASE_URL` - NeonDB PostgreSQL connection string (format: `postgresql://user:password@ep-xxx.eu-central-1.aws.neon.tech/tellingcube?sslmode=require`)
- `ANTHROPIC_API_KEY` - Claude API key (format: `sk-ant-xxx`)

**Post-PoC:**
- `CRON_SECRET` - Random UUID for cron job authentication
- `STRIPE_SECRET_KEY`, `STRIPE_WEBHOOK_SECRET`, `RESEND_API_KEY`, `UPSTASH_REDIS_REST_URL`

### Vercel Configuration
**Source:** Architecture Section 11 (Deployment Architecture)

**File:** `vercel.json` (create in root)

```json
{
  "buildCommand": "pnpm build",
  "installCommand": "pnpm install",
  "framework": "nextjs",
  "regions": ["fra1"]
}
```

**Region:** Frankfurt (`fra1`) - closest to Austria for low latency

### Git Workflow
**Source:** Architecture Section 10 (Development Workflow)

**Branch Strategy:**
- `main` - Production (auto-deploys to Vercel)
- `dev` - Development (preview deployments)
- `feature/*` - Feature branches

**Initial commit message format:**
```
feat: Initialize Next.js 14 project with TypeScript and Tailwind

- Next.js 14 App Router
- TypeScript strict mode
- TailwindCSS with brand colors
- Vercel deployment configured
```

### Testing

**PoC Testing:** Manual (automated testing deferred to Post-PoC)

**Manual Test Checklist:**
1. ✅ Dev server runs: `pnpm dev` → http://localhost:3000
2. ✅ Landing page displays "tellingCube.com" in brand blue
3. ✅ Tailwind classes work (verify color applied)
4. ✅ TypeScript compiles without errors: `pnpm build`
5. ✅ Git repository initialized with proper `.gitignore`
6. ✅ Vercel deployment succeeds
7. ✅ Production URL loads landing page
8. ✅ `.env.local.example` documents all required variables

**No automated tests required for Story 1.1** (infrastructure setup only)

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-11-16 | 1.0 | Initial story creation from PRD Epic 1, Story 1.1 | Sarah (PO) |

## Dev Agent Record

### Agent Model Used
Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References
- Background process d48572: Next.js initialization

### Completion Notes List
- Backed up existing Lovable components to `lovable-backup/`
- Found 8 Lovable component files (landing, confirmation, pages)
- Initializing Next.js 14 with App Router (in progress)

### File List
- `lovable-backup/` - Backed up Lovable components
- Next.js initialization in progress...

## QA Results
_To be populated by QA agent_
